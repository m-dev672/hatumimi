schemaVersion: 2.2.0
metadata:
  name: tugidoko
  displayName: "Tugidoko React TypeScript App"
  description: "React TypeScript application with Vite build system"
  version: "1.0.0"
  tags:
    - React
    - TypeScript
    - Vite
    - Firebase
    - Chakra UI
  attributes:
    controller.devfile.io/storage-type: per-workspace

parent:
  id: nodejs
  registryUrl: "https://registry.devfile.io"

components:
  - name: tugidoko-runtime
    container:
      image: node:20-alpine
      memoryRequest: 1Gi
      memoryLimit: 4Gi
      cpuRequest: 500m
      cpuLimit: 2000m
      mountSources: true
      endpoints:
        - name: dev-server
          targetPort: 5173
          exposure: public
          protocol: http
        - name: preview
          targetPort: 4173
          exposure: public
          protocol: http
      command:
        - /bin/sh
        - -c
        - "npm install && tail -f /dev/null"

  - name: git
    volume:
      size: 1Gi

